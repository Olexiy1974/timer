<!doctype html>
<html>
  <head>
<meta name="viewport" content="height=device-high width=device-width initial-scale=1.0">
<meta charset="UTF-8">
<title> –¢–∞–π–º–µ—Ä </title>
<link rel=STYLESHEET type="text/css" href="css/my_style .css">
</head>
  <body>
<section class="Ext_Section_Timer">
  <div class=divInputTime>
   <h1>
    ‚è≥ –¢–∞–π–º–µ—Ä –¥–ª—è –∑–≤–æ—Ä–æ—Ç–Ω—å–æ–≥–æ –≤—ñ–¥–ª—ñ–∫—É
   </h1>
   <label for=minutes>
     –í–≤–µ–¥—ñ—Ç—å —á–∞—Å –≤ —Ö–≤–∏–ª–∏–Ω–∞—Ö 1 –¥–æ 150
   </label>
   <input type=number id=minutes min=1 max=150 placeholder="–ù–∞–ø—Ä. 5" size="40">
  </div>
  <section class=outputTime>
   <div id=displayTime class=timer>00:00</div>
   <button type=button id=StartStop >‚ñ∂Ô∏è –°–¢–ê–†–¢</button>
   <p id=missage class=" missage hide">üîî –ß–∞—Å –≤–∏–π—à–æ–≤! –í–≤–µ–¥—ñ—Ç—å –Ω–æ–≤–∏–π —á–∞—Å –¥–ª—è –≤—ñ–¥–ª—ñ–∫—É —ñ –Ω–∞—Ç–∏—Å–Ω–∏—Ç—å –∫–Ω–æ–ø–∫—É ‚ñ∂Ô∏è –°—Ç–∞—Ä—Ç</p>
   </section>
</section>
<script defer=defer>
const inputField=document.getElementById("minutes");
 const outputTime=document.getElementById('displayTime'); //–û—Ç—Ä–∏–º–∞–ª–∏ –¥–æ—Å—Ç—É–ø –¥–æ –ø–æ–ª—è –≤–∏–≤–æ–¥—É —á–∞—Å—É
 const buttonStartStop=document.getElementById("StartStop"); //–û—Ç—Ä–∏–º–∞–ª–∏ –¥–æ—Å—Ç—É–ø –¥–æ –∫–Ω–æ–ø–∫–∏ –°—Ç–∞—Ä—Ç
 const StopTimerMissage=document.getElementById('missage');//–û—Ç—Ä–∏–º–∞–ª–∏ –¥–æ—Ç—É–ø –¥–æ –ø–∞—Ä–∞–≥—Ä–∞—Ñ—É –∑ –Ω–∞–¥–ø–∏—Å–æ–º –ß–∞—Å –≤–∏–π—à–æ–≤
 let isRunning=false; //–í–º–∑–Ω–∞—á–∞—î–º–æ, —á–∏ –ø–æ—Ä–∞ –∑–∞–≤–µ—Ä—à–∏—Ç–∏ –∑–∞–ø—É—â–µ–Ω–∏–π –ø—Ä–æ—Ü–µ—Å –≤—ñ–¥–ª—ñ–∫—É. –Ø–∫—â–æ false - —Ç–æ –Ω—ñ, —è–∫—â–æ true- —Ç–æ —Ç–∞–∫
 let interval; //–¢—É—Ç –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è id –∞–≤—Ç–∏–≤–Ω–æ–≥–æ —ñ–Ω—Ç–µ—Ä–≤–∞–ª—É (–ø–æ–≤—Ç–æ—Ä—É), —Å—Ç–≤–æ—Ä–µ–Ω–æ–≥–æ —Ñ—ñ—É–Ω–∫—Ü—ñ—î—é setInterval()
 const audioAlarmSound = new Audio('Sound/alarm.wav'); //–ù–∞–º –≤ –º–∞–π–±—É—Ç–Ω—å–æ–º—É –∑–Ω–∞–¥–æ–±–∏—Ç—å—Å—è —Ü–µ–π –∞—É–¥—ñ–æ–æ–±'—î–∫—Ç
 //–î–∞–Ω–∞ —Ñ—É–Ω–∫—Ü—ñ—è –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è –∑—É–ø–∏–Ω–∫–∏ –≤—ñ–¥–ª—ñ–∫—É —á–∞—Å—É —Å–∫–∏–¥–∞–Ω–Ω—è —Ç–∞–π–º–µ—Ä—É.

 function resetUI(interval){
  clearInterval(interval); //–ó—É–ø–∏–Ω—è—î–º–æ –≤—ñ–¥–ª—ñ–∫ —á–∞—Å—É
  buttonStartStop.textContent = "‚ñ∂Ô∏è –°–¢–ê–†–¢"; // –ü–æ–≤–µ—Ä—Ç–∞—î–º–æ –≤–∏—Å—Ö—ñ–¥–Ω–∏–π –Ω–∞–¥–ø–∏—Å –∫–Ω–æ–ø–∫–∏ ‚ñ∂Ô∏è –°–¢–ê–†–¢
  outputTime.textContent='00:00'; //–°–∫–∏–¥–∞—î–º–æ —Ç–∞–π–º–µ—Ä.
  isRunning=false;
  StopTimerMissage.classList.add("hide");
};


//–î–∞–Ω–∞ —Ñ—É–Ω–∫—Ü—ñ—è –∏–∑–Ω–∞—á–∞—î —Å–∫—ñ–ª—å–∫–∏ —á–∞—É - —Ö–≤–∏–ª–∏–Ω —Ç–∞ —Å–µ–∫—É–Ω–¥ –∑–∞–ª–∏—à–∏–ª–æ—Å—è –≤—ñ–¥–ª—ñ–∫—É–≤–∞—Ç–∏

function updateTime (second) {
  //–†–æ–∑—Ä–∞—Ö–æ–≤—É—î–º–æ —Å–∫—ñ–ª—å–∫–∏ —Ö–≤–∏–ª–∏–Ω —ñ —Å–µ–∫—É–Ω–¥ –∑–∞–ª–∏—à–∏–ª–æ—Å—è
   const mins=String(Math.floor(second/60)).padStart(2,'0');// –†–æ–∑—Ä–∞—Ö–æ–≤—É—î–º–æ —Å–∫—ñ–ª—å–∫–∏ —Ö–≤–∏–ª–∏–Ω –∑–∞–ª–∏—à–∏–ª–æ—Å—è
   const sec=String(Math.floor(second%60)).padStart(2,'0');// –†–æ–∑—Ä–∞—Ö–æ–≤—É—î–º–æ —Å–∫—ñ–ª—å–∫–∏ —Å–µ–∫—É–Ω–¥ –∑–∞–ª–∏—à–∏–ª–æ—Å—è
   outputTime.textContent=`${mins}:${sec}`; //–í—ñ–≤–æ–¥–∏–º–æ –æ—Ç—Ä–∏–º–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç.
  }

 //–î–æ–¥–∞—î–º–æ —Ä–µ–∞–∫—Ü—ñ—é –Ω–∞ –∫–ª—ñ–∫ –ø–æ –¥–∞–Ω—ñ–π –∫–Ω–æ–ø—Ü—ñ
 buttonStartStop.addEventListener('click',()=> {
  //–î–ª—è –ø–æ—á–∞—Ç–∫—É –∑—É–ø–∏–Ω—è—î–º–æ –≤—ñ–¥—Ç–≤–æ—Ä–µ–Ω–Ω—è –∞—É–¥—ñ–æ, —è–∫—â–æ –≤–æ–Ω–æ –≤–∂–µ –≤–¥—Ç–≤–æ—Ä—é—î—Ç—å—Å—è
  audioAlarmSound.currentTime=0;
  audioAlarmSound.pause();
  //–î–∞–ª—ñ –ø–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ, —á–∏ –ø–µ—Ä—à–µ —Ü–µ –Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—è –Ω–∞ –¥–∞–Ω—É –∫–Ω–æ–ø–∫—É —á–∏ –Ω—ñ. –Ø–∫—â–æ —Ü–µ –ø–µ—Ä—à–µ,
  //  isRunning==false, –≤–∏–∫–æ–Ω—É—î–º–æ –π–æ–≥–æ –æ–±—Ä–æ–±–∫—É —ñ –∑–∞–ø—É—Å–∫–∞—î–º–æ –ø—Ä–æ—Ü–µ—Å –≤—ñ–¥–ª—ñ–∫—É. –Ø–∫—â–æ –Ω—ñ, 
  // isRunning==true, –∑–∞–≤–µ—Ä—à—É—î–º–æ –≤—ñ–¥–ª—ñ–∫, —Å–∫–∏–¥–∞—î–º–æ —Ç–∞–π–º–µ—Ä —ñ –≤—ñ–¥–Ω–æ–≤–ª—é—î–º–æ –≤—Å–µ —è–∫ –±—É–ª–æ.
   if (isRunning) {resetUI(interval);} else {
    const minutes=parseInt(inputField.value); //–û—Ç—Ä–∏–º—É—î–º–æ –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Ö–≤–∏–ª–∏–Ω –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤—ñ–¥–ª—ñ–∫—É–≤–∞—Ç–∏
    const rightNumber=isNaN(minutes);//–í–≤–µ–¥–µ–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è —î —á–∏—Å–ª–æ–º?
    if (rightNumber|| minutes < 1 || minutes > 150) { // –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ —á–∏ –∫–æ—Ä–µ–∫—Ç–Ω–µ –º–∏ –≤–≤–µ–ª–∏ –∑–Ω–∞—á–µ–Ω–Ω—è.
      if (rightNumber) { //–í–≤–µ–¥–µ–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è –Ω–µ —î —á–∏—Å–ª–æ–º
        alert ('–í–≤–µ–¥–µ–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è –Ω–µ —î —á–∏—Å–ª–æ–º. –í–≤–µ–¥—ñ—Ç—å –∫–æ—Ä–µ–∫—Ç–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è —â–æ —î —á–∏—Å–ª–æ–º –∑ –¥–∏–∞–ø–æ–∑–æ–Ω—É –≤—ñ–¥ 1..150');
        return;
      };
     if (minutes < 1 || minutes > 150) {// –í–≤–µ–¥–µ–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è - —á–∏—Å–ª–æ, —â–æ –≤–∏–π—à–ª–æ –∑–∞ –º–µ–∂—ñ –¥–æ–ø—É—Å—Ç–∏–º–æ–≥–æ –¥—ñ–∞–ø–æ–∑–æ–Ω—É –≤—ñ–¥ 1..150
       alert ('–í–≤–µ–¥–µ–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è —î —á–∏—Å–ª–æ–º. –ê–ª–µ –≤–æ–Ω–æ —î —á–∏—Å–ª–æ–º, —â–æ –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –∑–∞ –º–µ–∂–∞–º–∏ –¥–æ–ø—É—Å—Ç–∏–º–æ–≥–æ –¥—ñ–∞–ø–æ–∑–æ–Ω—É 1..150 –≤–∫–ª—é—á–µ–Ω–æ. –í–≤–µ–¥—ñ—Ç—å –∫–æ—Ä–µ–∫—Ç–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è —â–æ —î —á–∏—Å–ª–æ–º –∑ –¥–∏–∞–ø–æ–∑–æ–Ω—É –≤—ñ–¥ 1..150');
        return;
     };
    }
    //–Ø–∫—â–æ –≤–≤–µ–¥–µ–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è —î –∫–æ—Ä–µ–∫—Ç–Ω–∏–º —á–∏—Å–ª–æ–º —ñ–∑ –¥—ñ–∞–ø–æ–∑–æ–Ω—É 1..150; –ø—Ä–æ–¥–æ–≤–∂—É—î–º–æ –¥–∞–ª—ñ.
    StopTimerMissage.classList.add("hide");
     isRunning=true; //isRunnig==true; –≤–∫–∞–∑—É—î–º–æ —â–æ –ø–µ—Ä—à–µ –Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—è  –Ω–∞ –¥–∞–Ω—É –∫–Ω–æ–ø–∫—É –≤–∂–µ –±—É–ª–æ
    let time=minutes*60; // –°–∫—ñ–ª—å–∫–∏ —á–∞—Å—É –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è –≤—ñ–¥–ª—ñ–∫—É–≤–∞—Ç–∏ –≤ —Å–µ–∫—É–Ω–¥–∞—Ö
        
    buttonStartStop.textContent="‚èπ –ó—É–ø–∏–Ω–∏—Ç–∏";//–ó–º—ñ–Ω—é—î–º–æ –Ω–∞–¥–ø–∏—Å –Ω–∞ –¥–∞–Ω—ñ–π –∫–Ω–æ–ø—Ü—ñ
    updateTime(time); //–ó–¥—ñ–π—Å–Ω–Ω—é—î–º–æ –ø–µ—Ä—à—ñ–π –≤–∏–≤—ñ–¥ —ñ –≤–∏–≤–æ–¥–∏–º–æ –ø–æ—á–∞—Ç–∫–æ–≤–µ –∑–Ω–∞—á–µ–Ω–Ω—è —É –≤–∏–≥–ª—è–¥—ñ —Ö–≤–∏–ª–∏–Ω —Ç–∞ —Å–µ–∫—É–Ω–¥
    interval=setInterval(
      () => {
        time--;//–ó–º–µ–Ω—à—É—î–º–æ –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Å–µ–∫—É–Ω–¥, –∑–∞–ª–∏—à–∏–≤—à–∏—Ö—Å—è –¥–ª—è –≤—ñ–¥–ª—ñ–∫—É –Ω–∞ 1
        updateTime(time); //–í–∏–≤–æ–¥–∏–º–æ –π–æ–≥–æ —É –≤–∏–≥–ª—è–¥—ñ —Ö–≤–∏–ª–∏–Ω —Ç–∞ —Å–µ–∫—É–Ω–¥
        //–î–∞–ª—ñ –ø–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ —á–∏ –Ω–µ –∑–º–µ–Ω—à–∏–ª–∞—Å—è –∫—ñ–ª—å–∫—ñ—Ç—Å—å —Å–µ–∫—É–Ω–¥, –∑–∞–ª–∏—à–∏–≤—à–∏—Ö—Å—è –¥–ª—è –≤—ñ–¥–ª—ñ–∫—É –¥–æ 0.
        if (time===0) {      //–Ø–∫—â–æ —Ç–∞–∫ –∑–∞–≤–µ—Ä—à—É—î–º–æ –≤—ñ–¥–ª—ñ–∫ —ñ –≤–∏–≤–æ–¥–∏–º–æ  –ß–∞—Å –≤–∏—á–µ—Ä–ø–∞–Ω–æ.
        /*–°–∫–∏–¥–∞—î–º–æ —Ç–∞–π–º–µ—Ä, –ø–æ–≤–µ—Ä—Ç–∞—î–º–æ –Ω–∞–∑–∞–¥ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏–π –Ω–∞–¥–ø–∏—Å –Ω–∞ –∫–Ω–æ–ø—Ü—ñ ‚ñ∂Ô∏è –°–¢–ê–†–¢ —ñ –ø—Ä–∏–ø–∏–Ω—è—î–º–æ –≤—ñ–¥—ñ–ª—ñ–∫ */
        /*–¢–∞–∫–æ–∂ –≥–æ—Ç—É—î–º–æ —Å—Ç–æ—Ä—ñ–Ω–∫—É –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫—É –≤—ñ–¥–ª—ñ–∫—É*/
        resetUI(interval);
        inputField.value="";
         StopTimerMissage.classList.remove("hide");
         
         audioAlarmSound.play();
         outputTime.classList.add("flash");
         setTimeout (
          () => {
             outputTime.classList.remove("flash");
          }
          ,3000
         );
        };
    },
  1000);

   };
  
  
 }

 )
</script>
  </body>
</html>